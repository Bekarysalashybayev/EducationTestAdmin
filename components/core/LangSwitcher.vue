dropdown.vue
<template>
  <dropdown class="language__dropdown" ref="dropdown">
    <template #header>
      <div class="language__dropbtn language__dropdown__element " v-for="local in $i18n.locales"
           v-if="selected==local.code"
      >
        <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            class="fill"
            d="M9.06641 0.0429688C7.16797 0.210938 5.20312 1.01562 3.69141 2.24609C3.24609 2.60547 2.54297 3.31641 2.19141 3.75781C1.29688 4.87891 0.5625 6.39453 0.257812 7.75391C0.0664062 8.60547 0.0234375 9.02344 0.0234375 10C0.0234375 10.9766 0.0664062 11.3945 0.257812 12.2461C0.566406 13.6328 1.32031 15.1719 2.24609 16.3086C2.60547 16.7539 3.31641 17.457 3.75781 17.8086C4.87891 18.7031 6.39453 19.4375 7.75391 19.7422C8.60547 19.9336 9.02344 19.9766 10 19.9766C10.9766 19.9766 11.3945 19.9336 12.2461 19.7422C13.2656 19.5156 14.6016 18.9453 15.4805 18.3633C17 17.3516 18.168 16.0234 18.9688 14.3945C19.6133 13.0781 19.9297 11.8242 19.9883 10.3594C20.0781 8.02344 19.332 5.73828 17.8594 3.82812C17.5312 3.40234 16.5977 2.46875 16.1719 2.14062C14.1094 0.550781 11.625 -0.183594 9.06641 0.0429688ZM9.64844 2.6875V4.67188L8.76562 4.72266C7.61328 4.78516 6.55469 4.91016 5.51562 5.10156C5.33594 5.13672 5.18359 5.15625 5.17578 5.14844C5.15234 5.125 5.42188 4.48828 5.625 4.08984C6.42578 2.50391 7.45312 1.43359 8.64453 0.945312C8.91797 0.832031 9.37891 0.710938 9.54297 0.707031L9.64844 0.703125V2.6875ZM10.7812 0.761719C11.9727 1.04297 13.0977 1.94922 13.9414 3.3125C14.2656 3.83203 14.875 5.09766 14.8242 5.14844C14.8164 5.15625 14.6133 5.125 14.3672 5.08203C13.1875 4.875 12.4023 4.78516 11.2344 4.72266L10.3516 4.67188V2.6875V0.703125H10.4414C10.4883 0.703125 10.6406 0.730469 10.7812 0.761719ZM6.67578 1.51953C6.25391 1.95312 5.82812 2.48047 5.50781 2.96875C5.21484 3.41797 4.69922 4.46094 4.53125 4.94141L4.41016 5.29297L3.08203 5.52344C2.35156 5.64844 1.74219 5.74219 1.73047 5.73047C1.70312 5.70312 1.89844 5.35547 2.21484 4.875C3.08984 3.53516 4.35156 2.41406 5.82422 1.65625C6.06641 1.53125 6.91406 1.17578 6.97656 1.17578C7 1.17188 6.86328 1.32812 6.67578 1.51953ZM13.4648 1.34375C15.2266 2.05078 16.7578 3.30078 17.7852 4.875C18.1016 5.35547 18.2969 5.70312 18.2695 5.73047C18.2578 5.74219 17.6484 5.64844 16.918 5.52344L15.5898 5.29297L15.4688 4.94141C15.3008 4.46094 14.7852 3.41797 14.4922 2.96875C14.1719 2.48047 13.7461 1.95312 13.3242 1.51953C13.1367 1.32812 12.9961 1.17188 13.0117 1.17188C13.0273 1.17188 13.2305 1.25 13.4648 1.34375ZM9.64844 7.5V9.64844H6.99219H4.33203L4.35547 9.22656C4.41016 8.28516 4.58594 7.14453 4.80469 6.3125C4.86719 6.07812 4.92578 5.88281 4.92969 5.87891C4.9375 5.875 5.32812 5.80859 5.80078 5.73047C7.12891 5.50781 8.40234 5.375 9.36719 5.35547L9.64844 5.35156V7.5ZM11.3398 5.39062C12.2227 5.44531 13.1406 5.55469 14.1992 5.73047C14.6719 5.80859 15.0625 5.875 15.0703 5.87891C15.0742 5.88281 15.1328 6.07812 15.1953 6.3125C15.4141 7.14453 15.5898 8.28516 15.6445 9.22656L15.668 9.64844H13.0078H10.3516V7.5V5.35156H10.5078C10.5977 5.35156 10.9688 5.37109 11.3398 5.39062ZM4.17969 6.05859C4.17969 6.08203 4.13672 6.26953 4.08594 6.47656C3.89453 7.23438 3.75 8.24609 3.69141 9.22656L3.66406 9.64844H2.16406H0.664062L0.679688 9.55859C0.691406 9.51172 0.707031 9.32422 0.722656 9.14062C0.765625 8.48047 0.949219 7.64062 1.19922 6.92188C1.27734 6.69922 1.35938 6.50781 1.38281 6.5C1.4375 6.48047 4.01953 6.02344 4.11328 6.01953C4.14844 6.01562 4.17969 6.03516 4.17969 6.05859ZM17.2383 6.25391C17.9922 6.38281 18.6211 6.49609 18.6367 6.50391C18.6484 6.51562 18.7227 6.70312 18.8008 6.92188C19.0508 7.64062 19.2344 8.48047 19.2773 9.14062C19.293 9.32422 19.3086 9.51172 19.3203 9.55859L19.3359 9.64844H17.8359H16.3359L16.3086 9.22656C16.25 8.24609 16.1055 7.23438 15.9141 6.47656C15.8164 6.07812 15.8047 6.01562 15.8438 6.01562C15.8594 6.01562 16.4844 6.12109 17.2383 6.25391ZM3.69141 10.7695C3.75 11.7617 3.89453 12.7539 4.08984 13.5469C4.14453 13.7656 4.17969 13.957 4.17188 13.9688C4.15234 13.9883 1.41406 13.5273 1.36328 13.4961C1.35156 13.4844 1.27734 13.2969 1.19922 13.0781C0.949219 12.3594 0.765625 11.5195 0.722656 10.8594C0.707031 10.6758 0.691406 10.4883 0.679688 10.4375L0.664062 10.3516H2.16406H3.66406L3.69141 10.7695ZM9.64844 12.5V14.6484H9.49219C9.12891 14.6484 7.94141 14.5625 7.32422 14.4883C6.76562 14.4258 4.96484 14.1484 4.92969 14.1211C4.92578 14.1172 4.86719 13.9219 4.80469 13.6875C4.58594 12.8555 4.41016 11.7148 4.35547 10.7695L4.33203 10.3516H6.99219H9.64844V12.5ZM15.6445 10.7695C15.5898 11.7148 15.4141 12.8555 15.1953 13.6875C15.1328 13.9219 15.0742 14.1172 15.0703 14.1211C15.0352 14.1484 13.2344 14.4258 12.6758 14.4883C12.0586 14.5625 10.8711 14.6484 10.5078 14.6484H10.3516V12.5V10.3516H13.0078H15.668L15.6445 10.7695ZM19.3203 10.4375C19.3086 10.4883 19.293 10.6758 19.2773 10.8594C19.2344 11.5195 19.0508 12.3594 18.8008 13.0781C18.7227 13.2969 18.6484 13.4844 18.6367 13.4961C18.5859 13.5273 15.8477 13.9883 15.8281 13.9688C15.8203 13.957 15.8555 13.7656 15.9102 13.5469C16.1055 12.7539 16.25 11.7617 16.3086 10.7695L16.3359 10.3516H17.8359H19.3359L19.3203 10.4375ZM3.09375 14.4805L4.41016 14.707L4.53125 15.0586C4.69922 15.5391 5.21484 16.582 5.50781 17.0312C5.82812 17.5195 6.25391 18.0469 6.67578 18.4805C6.86328 18.6719 7.00391 18.8281 6.98828 18.8281C6.93359 18.8281 6.11328 18.4883 5.86719 18.3633C4.50781 17.6758 3.30078 16.6523 2.42969 15.4453C2.21875 15.1523 1.71875 14.3398 1.71875 14.2891C1.71875 14.2461 1.66406 14.2383 3.09375 14.4805ZM18.2812 14.2891C18.2812 14.3398 17.7812 15.1523 17.5703 15.4453C16.6992 16.6523 15.4922 17.6758 14.1328 18.3633C13.8867 18.4883 13.0664 18.8281 13.0117 18.8281C12.9961 18.8281 13.1367 18.6719 13.3242 18.4805C13.7461 18.0469 14.1719 17.5195 14.4922 17.0312C14.7852 16.582 15.3008 15.5391 15.4688 15.0586L15.5898 14.707L16.8477 14.4844C18.1719 14.2539 18.2812 14.2383 18.2812 14.2891ZM5.53125 14.9023C6.53125 15.0898 7.65234 15.2188 8.78125 15.2812L9.64844 15.3281V17.3125C9.64844 19.5938 9.70703 19.3477 9.20703 19.2344C7.59375 18.8672 6.11328 17.2969 5.22266 15.0078C5.1875 14.918 5.17188 14.8438 5.19141 14.8438C5.21094 14.8438 5.36328 14.8711 5.53125 14.9023ZM14.7617 15.0469C13.8789 17.3047 12.3945 18.8672 10.793 19.2344C10.293 19.3477 10.3516 19.5938 10.3516 17.3125V15.3281L11.2227 15.2812C12.3242 15.2188 13.7266 15.0547 14.5508 14.8828C14.8594 14.8203 14.8516 14.8164 14.7617 15.0469Z"/>
        </svg>
        <span class="hName">{{ local.name }}</span>
        <svg viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M5.3569 5.84073L9.85238 0.940257C10.0492 0.725227 10.0492 0.376844 9.85238 0.161272C9.65555 -0.0537577 9.33586 -0.0537577 9.13903 0.161272L5.00025 4.67305L0.861466 0.161816C0.66464 -0.0532141 0.344944 -0.0532141 0.147619 0.161816C-0.0492065 0.376845 -0.0492065 0.72577 0.147619 0.9408L4.64306 5.84127C4.83785 6.053 5.16257 6.053 5.3569 5.84073Z"
            fill="black"/>
        </svg>
      </div>
    </template>
    <template #body>
      <div class="language__dropdown__content modal__dropdown active">
        <div class="language__dropdown__element body" v-for="locale in $i18n.locales"
             v-bind:class="{active: selected==locale.code}"
             @click="changeLocale(locale.code)"
        >
          <span class="hName">{{ locale.name }}</span>
        </div>
      </div>

    </template>
  </dropdown>
</template>
<script>
import dropdown from "./dropdown";

export default {
  name: "LangSwitcher",
  components: {dropdown},
  data() {
    return {
      selected: '',
      langDropDown: false,
    }
  },
  created() {
    this.selected = this.$i18n.locale
  },
  mounted() {
    self = this
    window.onclick = function (event) {
      if (!event.target.closest('.modal, .modal__dropdown')) {
        self.langDropDown = false
      }
    }
  },
  methods: {
    changeLocale(code) {
      this.selected = code;
      const switchPath = this.switchLocalePath(code)
      this.$router.push(switchPath)
      this.$refs.dropdown.toggle()
    },
    toggle() {
      this.langDropDown = !this.langDropDown;
    },
  },
}
</script>
<style scoped lang="scss">
.language__dropdown__element {
  svg:first-child {
    width: rem(20);
    height: rem(20);
    min-width: 13px;
    min-height: 13px;

    .fill {
      fill: $main_color;
    }
  }

  svg:last-child {
    width: rem(10);
    height: rem(6);
    min-width: 6.7px;
    min-height: 4px;
  }
}

.language__dropdown {
  position: relative;
  font-size: 2rem;
}

.language__dropbtn {
  display: flex;
  align-items: center;
}

.language__dropbtn span {
  margin-top: 5px;
}

.language__dropdown__content {
  position: static;
  width: max-content;
  margin-top: 15px;
  background-color: #FFFFFF;
  border: 1px solid #DFE6FD;
  box-sizing: border-box;
  border-radius: 3px;
  z-index: 1;
  display: none;
}

.language__dropdown__content.active {
  display: block;
  @include default_shadow;
}

.language__dropdown__element {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.language__dropdown__element.body {
  padding: 5px;
}

.language__dropdown__element.body:last-child {
  margin-bottom: 0;
}

.language__dropdown__element span {
  font-weight: 400;
  color: $black;
  margin-left: 10px;
  margin-right: 5px;
}

.hName {
  margin-top: -0.5px !important;
  line-height: 1 !important;
  margin-right: 12px !important;
  font-size: rem(15);
}

.language__dropdown__element:hover {
  background-color: #f1f1f1
}
.language__dropdown__element.active {
  background-color: $gray;
}


@media screen and (max-width: $laptop_size) {
  .hName {
    font-size: 13px;
  }
}
@media (max-width: 375px) {
  .language__dropbtn img {
    width: 15px;
  }

  .language__dropdown__element img {
    width: 15px;
  }
}
</style>
